<%#*************************************************************
The left sidebar is generated by pre-loading 4 arrays with various 
html content based on the current view and then looping through
the arrays to efficiently generate a vertical sidebar list 
*************************************************************%>

<div class="left_sidebar">

<%
tabs = Array.new
icons = Array.new
links = Array.new
ids = Array.new
%>	
			
<%#*************************************************************
Case Toolbar
*************************************************************%>			
		
		<% if is_controller_active?('patients') || is_active?('cases#show') || is_active?('history_female#show') || is_active?('history_female#show') %>	
			
			<% tabs = Array['Overview','Patients','Diagnosis','Stimulation','Embryology','Appointments','Follow Up'] %>
			<% icons = Array['E','u','✎','⌚','s','l', '✔'] %>
			<% links = Array['/cases/'+"#{@case.id}",'/cases/'+"#{@case.id}"+'/patients','#','#','#','#','#'] %>
			<% ids = Array["","","","","","","",] %>							

		<% end %>	
		
<%#*************************************************************
Clinic Toolbar
*************************************************************%>

		<% if is_controller_active?('clinicians') || is_controller_active?('referrers') %>
			
			<% tabs = Array['Clinician list','New clinician','New referrer'] %>
			<% icons = Array[nil,nil,nil] %>
			<% links = Array['/clinicians','/clinicians/new','/referrers/new'] %>
			<% ids = Array[nil,nil,nil] %>
			
		<% end %>
		
		
<%#*************************************************************
Calendar Toolbar... this sidebar is unique and needs work
*************************************************************%>
					
		<% if is_active?('appointments#index') %>
			<div class="appointment_matrix">
				<h1>Intelligent Scheduler</h1>
				<table>
					<tr><td id="my">My </td><td id="clinic">Clinic </td></tr>
					<tr><td id="daily">Daily</td><td id="weekly">Weekly</td></tr>
				</table>	
			</div>
			<div class="calendar_container">	
				<div id="calendar">
				</div>
			</div>
			
			<ul>
				<li class="option <%= is_state_active?('appointments','index') %>"><%= link_to appointments_path do |f| %><span class="text">View Today's Schedule</span><span class="icon">⌚</span><% end %></li>
				<li class="option <%= is_state_active?('appointments','new') %>"><%= link_to new_appointment_path do |f| %><span class="text">New Appointment</span><span class="icon">⊕</span><% end %></li>
			</ul>
		<% end %>
		


<%#*************************************************************
Female History Toolbar(s)
*************************************************************%>

<% if is_active?('history_females#new') || is_active?('history_females#edit') %>

<% tabs = Array['Basic','Pregnancy History','Menstrual Cycle','Gynecologic History','Medical History',
				'Environmental Factors','Genetic/Family History','Infertility Tests','Infertility Treatments'] %>
<% icons = Array[nil,nil,nil,nil,nil,nil,nil,nil,nil] %>
<% links = Array[nil,nil,nil,nil,nil,nil,nil,nil,nil] %>
<% ids = Array["update_history_1","update_history_2","update_history_3","update_history_4","update_history_5",
				"update_history_6","update_history_7","update_history_8","update_history_9"] %>

<% end %>

<%#*************************************************************
Male History Toolbar(s)
*************************************************************%>

<% if is_active?('history_males#new') || is_active?('history_males#edit') %>

<% tabs = Array['Basic','Pregnancy History','Medical History', 'Environmental Factors','Genetic/Family History',' Male Infertility Tests'] %>
<% icons = Array[nil,nil,nil,nil,nil,nil] %>
<% links = Array[nil,nil,nil,nil,nil,nil] %>
<% ids = Array["update_history_1","update_history_2","update_history_3",
				"update_history_4","update_history_5", "update_history_6"] %>

<% end %>

<%#*************************************************************
Generates left sidebar with unordered list html
*************************************************************%>

<ul>					
	
	<% for i in 0..(tabs.length - 1) %>
	
		<% if links[i].nil? %>
		<li id='<%= "#{ids[i]}" %>' class="option"><span class="text"> <%="#{tabs[i]}"%></span><span class="icon"> <%="#{icons[i]}"%></span></li>
		<% elsif %>
		<li id='<%= "#{ids[i]}" %>' class="option"><a href= <%="#{links[i]}"%> ><span class="text"> <%="#{tabs[i]}"%></span><span class="icon"> <%="#{icons[i]}"%></span></a></li>
		<% end %>
	
	<% end %>
	

</ul>

</div>